var $builtinmodule=function e(t){var r={};r.flip=new Sk.builtin.func(function(e,t,r){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}if(Sk.abstr.typeName(t)!=="bool"||Sk.abstr.typeName(r)!=="bool"){throw new Sk.builtin.TypeError("Wrong arguments")}var a=Sk.builtin.tuple([e.width,e.height]);var n=Sk.misceval.callsim(PygameLib.SurfaceType,a);n.context2d.save();var i=Sk.ffi.remapToJs(t);var o=i?-1:1;var c=Sk.ffi.remapToJs(r);var s=c?-1:1;n.context2d.scale(o,s);n.context2d.drawImage(e.offscreen_canvas,-e.width,0,e.width,e.height);n.context2d.restore();return n});function a(e,t,r){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}if(Sk.abstr.typeName(t)!=="tuple"){throw new Sk.builtin.TypeError("Wrong arguments")}var a=Sk.ffi.remapToJs(t);var n=Math.round(a[0]);var i=Math.round(a[1]);if(n===0||i===0){if(r!==undefined&&r!==Sk.builtins.none.none$){r.context2d.drawImage(e.offscreen_canvas,0,0)}return e}var o=Sk.builtin.tuple([n,i]);var c=n/e.width;var s=i/e.height;var u=Sk.misceval.callsim(PygameLib.SurfaceType,o);u.context2d.save();u.context2d.scale(c,s);u.context2d.drawImage(e.offscreen_canvas,0,0);u.context2d.restore();if(r!==undefined&&r!==Sk.builtins.none.none$){r.context2d.drawImage(u.offscreen_canvas,0,0)}return u}r.scale=new Sk.builtin.func(a);r.smoothscale=new Sk.builtin.func(a);r.rotate=new Sk.builtin.func(function(e,t){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}var r=Sk.ffi.remapToJs(t);var a=e.width;var n=e.height;var i=Sk.builtin.tuple([1.5*a,1.5*n]);var o=Sk.misceval.callsim(PygameLib.SurfaceType,i);o.context2d.save();o.context2d.translate(a/2,n/2);o.context2d.rotate(-r*Math.PI/180);o.context2d.translate(-a/2,-n/2);o.context2d.drawImage(e.offscreen_canvas,0,0);o.context2d.restore();return o});r.rotozoom=new Sk.builtin.func(function(e,t,r){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}var a=Sk.ffi.remapToJs(r);var n=Sk.ffi.remapToJs(t);var i=e.width;var o=e.height;var c=Sk.builtin.tuple([2*a*i,2*a*o]);var s=Sk.misceval.callsim(PygameLib.SurfaceType,c);s.context2d.save();s.context2d.scale(a,a);i*=a;o*=a;s.context2d.translate(i/2,o/2);s.context2d.rotate(-n*Math.PI/180);s.context2d.translate(-i/2,-o/2);s.context2d.drawImage(e.offscreen_canvas,0,0);s.context2d.restore();return s});r.scale2x=new Sk.builtin.func(function(e,t){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}var r=e.width;var a=e.height;var n=Sk.builtin.tuple([2*r,2*a]);var i=Sk.misceval.callsim(PygameLib.SurfaceType,n);i.context2d.save();i.context2d.scale(2,2);i.context2d.drawImage(e.offscreen_canvas,0,0);i.context2d.restore();if(t!==undefined&&t!==Sk.builtins.none.none$){t.context2d.drawImage(i.offscreen_canvas,0,0)}return i});r.chop=new Sk.builtin.func(function(e,t){if(Sk.abstr.typeName(e)!=="Surface"){throw new Sk.builtin.TypeError("Wrong arguments")}if(Sk.abstr.typeName(t)!=="Rect"){throw new Sk.builtin.TypeError("Wrong arguments")}var r=PygameLib.extract_rect(t);var a=r[0];var n=r[1];var i=r[0]+r[2];var o=r[1]+r[3];var c=e.width;var s=e.height;var u=c-i;var f=s-o;var l=Sk.builtin.tuple([c,s]);var v=Sk.misceval.callsim(PygameLib.SurfaceType,l);v.context2d.drawImage(e.offscreen_canvas,0,0,a,n,0,0,a,n);v.context2d.drawImage(e.offscreen_canvas,0,o,a,f,0,n,a,f);v.context2d.drawImage(e.offscreen_canvas,i,0,u,n,a,0,u,n);v.context2d.drawImage(e.offscreen_canvas,i,o,u,f,a,n,u,f);return v});return r};