$builtinmodule=function a(e){var r=new Sk.builtin.str("name"),s=new Sk.builtin.str("sz"),o=new Sk.builtin.str("bold"),l=new Sk.builtin.str("italic"),u=new Sk.builtin.str("underline");mod={};mod.__is_initialized=false;mod.Font=Sk.misceval.buildClass(mod,font_Font,"FontType",[]);PygameLib.FontType=mod.Font;mod.SysFont=new Sk.builtin.func(function(a,e,i,n){var t=Sk.misceval.callsim(PygameLib.FontType,e);Sk.abstr.sattr(t,r,a,false);Sk.abstr.sattr(t,s,e,false);if(i===undefined){Sk.abstr.sattr(t,o,Sk.ffi.remapToPy(false),false)}else{Sk.abstr.sattr(t,o,i,false)}if(n===undefined){Sk.abstr.sattr(t,l,Sk.ffi.remapToPy(false),false)}else{Sk.abstr.sattr(t,l,n,false)}Sk.abstr.sattr(t,u,Sk.ffi.remapToPy(false),false);return t});mod.init=new Sk.builtin.func(function(){mod.__is_initialized=true});mod.quit=new Sk.builtin.func(function(){mod.__is_initialized=false});mod.get_init=new Sk.builtin.func(function(){if(mod.__is_initialized){return Sk.ffi.remapToPy(true)}return Sk.ffi.remapToPy(false)});mod.get_default_font=new Sk.builtin.func(function(){return Sk.ffi.remapToPy("arial")});mod.get_fonts=new Sk.builtin.func(function(){return Sk.ffi.remapToPy(fonts_osx)});mod.match_font=new Sk.builtin.func(function(){return Sk.builtin.none.none$});return mod};function font_Font(a,e){var n=new Sk.builtin.str("name"),t=new Sk.builtin.str("sz"),r=new Sk.builtin.str("bold"),s=new Sk.builtin.str("italic"),o=new Sk.builtin.str("underline");e.__init__=new Sk.builtin.func(function(a,e,i){Sk.abstr.sattr(a,n,name,false);Sk.abstr.sattr(a,t,i,false);Sk.abstr.sattr(a,r,Sk.ffi.remapToPy(false),false);Sk.abstr.sattr(a,s,Sk.ffi.remapToPy(false),false);Sk.abstr.sattr(a,o,Sk.ffi.remapToPy(false),false);return Sk.builtin.none.none$});e.render=new Sk.builtin.func(renderFont,a);e.render.co_name=new Sk.builtins["str"]("render");e.render.co_varnames=["self","text","antialias","color","background"];e.render.$defaults=[Sk.builtin.none.none$];e.size=new Sk.builtin.func(fontSize,a);e.size.co_name=new Sk.builtins["str"]("size");e.set_underline=new Sk.builtin.func(function(a,e){Sk.abstr.sattr(a,o,e,false)},a);e.get_underline=new Sk.builtin.func(function(a){return Sk.abstr.gattr(a,o,false)},a);e.set_italic=new Sk.builtin.func(function(a,e){Sk.abstr.sattr(a,s,e,false)},a);e.get_italic=new Sk.builtin.func(function(a){return Sk.abstr.gattr(a,s,false)},a);e.set_bold=new Sk.builtin.func(function(a,e){Sk.abstr.sattr(a,r,e,false)},a);e.get_bold=new Sk.builtin.func(function(a){return Sk.abstr.gattr(a,r,false)},a)}function fontSize(a,e){var i=new Sk.builtin.str("name"),n=new Sk.builtin.str("sz"),t=new Sk.builtin.str("bold"),r=new Sk.builtin.str("italic");var s=Sk.ffi.remapToJs(e);var o=1.01*Sk.ffi.remapToJs(Sk.abstr.gattr(a,n,false));var l=Sk.ffi.remapToJs(Sk.abstr.gattr(a,i,false));l=""+o+"px "+l;var u=Sk.ffi.remapToJs(Sk.abstr.gattr(a,t,false));if(u){l="bold "+l}var m=Sk.ffi.remapToJs(Sk.abstr.gattr(a,r,false));if(m){l="italic "+l}var f=300;var c=Sk.builtin.tuple([f,o]);var d=Sk.misceval.callsim(PygameLib.SurfaceType,c,false);var b=d.offscreen_canvas.getContext("2d");b.font=l;return new Sk.builtin.tuple([b.measureText(s).width,o])}function renderFont(a,e,i,n,t){var r=new Sk.builtin.str("name"),s=new Sk.builtin.str("sz"),o=new Sk.builtin.str("bold"),l=new Sk.builtin.str("italic"),u=new Sk.builtin.str("underline");var m=Sk.ffi.remapToJs(e);var f=1;var c=.64;var d=f*Sk.ffi.remapToJs(Sk.abstr.gattr(a,s,false));var b=Sk.ffi.remapToJs(Sk.abstr.gattr(a,r,false));if(b===""){b="console"}b=""+d.toFixed(2)+"px "+b;var k=Sk.ffi.remapToJs(Sk.abstr.gattr(a,o,false));if(k){b="bold "+b}var g=Sk.ffi.remapToJs(Sk.abstr.gattr(a,l,false));if(g){b="italic "+b}var p=Sk.ffi.remapToJs(Sk.abstr.gattr(a,u,false));var h=300;var S=Sk.builtin.tuple([h,d]);var y=Sk.misceval.callsim(PygameLib.SurfaceType,S,false);var v=y.offscreen_canvas.getContext("2d");v.font=b;console.log("fontName:",b.split(" "));h=v.measureText(m).width;S=Sk.builtin.tuple([h,d/c]);y=Sk.misceval.callsim(PygameLib.SurfaceType,S,false);v=y.offscreen_canvas.getContext("2d");v.clearRect(0,0,y.offscreen_canvas.width,y.offscreen_canvas.height);b=b.replace(/\d+.*px/g,(c*d).toFixed(2)+"px");v.font=b;if(t!==undefined){var w=PygameLib.extract_color(t);v.fillStyle="rgba("+w[0]+", "+w[1]+", "+w[2]+", "+w[3]+")";v.fillRect(0,0,y.offscreen_canvas.width,y.offscreen_canvas.height)}var x=PygameLib.extract_color(n);v.fillStyle="rgba("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")";v.fillText(m,0,1/(f+.2)*d*c);if(p){v.strokeStyle="rgba("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")";v.lineWidth=1;v.beginPath();v.moveTo(0,d-1);v.lineTo(h,d-1);v.stroke()}return y}var fonts_osx=["applecoloremojiui","cochin","raanana","franklingothicmedium","signpainter","iowanoldstyle","corbel","avenir","birchstd","bitstreamverasansmono","sfcompacttext","albayan","applesdgothicneo","damascus","malayalammn","kohinoortelugu","minionpro","estrangelomidyat","lucidagrandeui","hiraginokakugothicpro","diwankufi","calibri","arialnarrow","applesdgothicneoi","gillsans","stixsizefoursym","adobehebrew","farisi","ptsanscaption","hiraginomarugothicpron","avenirnextcondensed","couriernew","myriadhebrew","hiraginominchopron","laomn","estrangeloantioch","damascuspua","hiraginosans","avenirnext","gohatibebzemen","altarikhpua","arial","itfdevanagari","hiraginokakugothicstd","adobegaramondpro","oratorstd","kozukagothicpro","skia","chaparralpro","sfnsdisplaycondensed","geezapro","lithospro","heitisc","gujaratimt","corsivahebrew","hoeflertext","athelas","lucidagrande","timesnewroman","decotypenaskhpua","webdings","inaimathi","myriadarabic","lettergothicstd","kozukagothicpr6n","lucidasansunicode","geezaprointerface","kozukaminchopr6n","luminari","helveticaneue","kailasa","helvetica","systemfont","shreedevanagari714","gillsansmt","applebraille","adobedevanagari","krungthep","stixgeneral","verdana","sfcompactdisplay","baskerville","sertomalankara","rockwell","newpeninimmt","malayalamsangammn","palatinolinotype","mspmincho","euphemiaucas","gurmukhisangammn","ptsansnarrow","trattatello","consolas","mishafigold","arialhebrewscholar","pingfangtc","symbol","ptserif","ayuthaya","notonastaliqurduui","stixintegralsd","kohinoordevanagari","sertomardin","notonastaliqurdu","stixnonunicode","adobekaitistd","pingfangsc","pingfanghk","stencilstd","trebuchetms","heititc","times","kohinoorbangla","marlett","seravek","tamilmn","andalemono","kufistandardgkpua","estrangelotalada","meiryo","banglasangammn","adobeheitistd","alnilepua","cambria","sukhumvitset","msmincho","marion","cooperstd","brushscriptmt","charter","comicsansms","sinhalasangammn","mingliuhkscs","palatino","arialroundedmtbold","estrangeloquenneshrin","ptsans","kefa","chalkboard","arabicuidisplay","laosangammn","impact","luxisans","menlo","bigcaslon","simhei","helveticaneuedeskinterface","myriadpro","snellroundhand","stixintegralsup","bitstreamverasans","arialhebrewdeskinterface","adobesongstd","stixsizeonesym","adobefanheitistd","superclarendon","sfcompactrounded","chalkboardse","muna","perpetua","hiraginokakugothicinterface","dinalternate","adobenaskh","stixintegralssm","tahoma","luxiserif","sertojerusalemoutline","telugusangammn","arabicuitext","sfnstextcondensed","adobemingstd","twcenmt","ptserifcaption","kannadasangammn","candara","americantypewriter","msreferencesansserif","papyrus","hiraginokakugothicpron","mishafi","futura","estrangeloedessa","sinhalamn","kozukaminchopro","albayanpua","adobecaslonpro","gujaratisangammn","trajanpro","constantia","myanmarsangammn","copperplate","teamviewer12","lucidaconsole","chalkduster","microsoftyibaiti","khmersangammn","songtitc","microsofttaile","bodoni72smallcaps","itfdevanagarimarathi","hiraginokakugothicstdn","oriyamn","georgia","pmingliuextb","nadeempua","tektonpro","applesymbols","markerfelt","nuevastd","songtisc","herculanum","optima","kufistandardgk","ptmono","bodoni72","adobearabic","giddyupstd","luximono","applechancery","khmermn","arialunicodems","bitstreamveraserif","eastsyriacadiabene","mspgothic","mingliu","bodoni72oldstyle","devanagarimt","sertobatnan","aquakana","hiraginosansgbinterface","mshtakan","msgothic","blackoakstd","bradleyhand","estrangelonisibin","prestigeelitestd","wingdings3","wingdings2","myanmarmn","sertokharput","stixsizefivesym","gurmukhimn","kannadamn","munapua","devanagarisangammn","wingdings","dincondensed","nadeem","sanapua","thonburi","applemyungjo","arialhebrew","beirutpua","baghdadpua","gurmukhimt","savoyeletcc","geezapropua","zapfino","telugumn","banglamn","waseem","arialblack","sertourhoy","charlemagnestd","microsoftsansserif","gulim","savoyelet","decotypenaskh","batang","stsong","ocrastd","franklingothicbook","didot","applegothic","altarikh","adobefangsongstd","stixvariants","zapfdingbats","hiraginosansgb","farah","baghdad","gb18030bitmap","kokonor","sertojerusalem","silom","estrangeloturabdin","bookshelfsymbol7","noteworthy","stixsizetwosym","oriyasangammn","tamilsangammn","alnile","phosphate","cambriamath","sana","stixintegralsupd","simsun","sathu","estrangelonisibinoutline","mingliuextb","simsunextb","beirut","farahpua","brushscriptstd","eastsyriacctesiphon","diwankufipua","rosewoodstd","mongolianbaiti","diwanthuluth","stixintegralsupsm","gabriola","mingliuhkscsextb","adobemyungjostd","msreferencespecialty","keyboard","microsofthimalaya","mesquitestd","poplarstd","hiraginomarugothicpro","hiraginominchopro","hobostd","stixsizethreesym","bodoniornaments","lastresort","pmingliu","applecoloremoji","plantagenetcherokee","adobegothicstd"];