<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../skulpt_dist/skulpt.min.js" type="text/javascript"></script>
    <script src="../skulpt_dist/skulpt-stdlib.js" type="text/javascript"></script>
    <script src="../pygamelib/pygamelib.js" type="text/javascript"></script>
    
    <script src="../js/bootstrap.js" type="text/javascript"></script>
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"> -->
    
    <link type="text/css" rel="stylesheet" href="../css/bootstrap.css" >
    <link type="text/css" rel="stylesheet" href="../css/font-awesome.min.css" >
    <!-- <link type="text/css" rel="stylesheet" href="../css/flatly.min.css" > -->
    <link type="text/css" rel="stylesheet" href="../css/petlja.css" >
    <!-- <link href="../fontawesome-all.css" type="text/css" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  </head>

  <body>
        <div id="mycanvas" class="col-md-offset-4">
        </div>

<textarea id="code" rows="24" cols="80">
import pygame as pg

# inicijalizujemo rad biblioteke PyGame
pg.init()

# postavljamo naslov prozora
pg.display.set_caption("Loptica")
# ukljucujemo prozor dimenzije 400x450 piksela
(sirina, visina) = (400, 450)
ekran = pg.display.set_mode((sirina, visina))

# pozicija loptice (na pocetku je u centru ekrana)
(x, y) = (sirina // 2, visina // 2)
# vektor kretanja loptice
(dx, dy) = (5, 5)
# poluprecnik loptice
r = 30

while pg.event.wait().type != pg.QUIT:
    pass



# glavna petlja programa
kraj = False
while not kraj:

    # crtamo lopticu
    ekran.fill(pg.Color("white"))
    pg.draw.circle(ekran, pg.Color("black"), (x, y), r)
    pg.display.update()

    # pomeramo lopticu
    x += dx
    y += dy
    # ako je loptica ispala van ekrana, menjamo joj smer
    if x - r < 0 or x + r > sirina:
        dx = -dx
    if y - r < 0 or y + r > visina:
        dy = -dy

    # cekamo 25 milisekundi
    pg.time.wait(25)

    # prekidamo petlju kada nastupi dogadjaj pg.QUIT
    for dogadjaj in pg.event.get():
        if dogadjaj.type == pg.QUIT:
            kraj = True

# prekidamo rad programa
pg.quit()
 
 
</textarea>
<pre id="output"></pre>

    <script>
    function printString(text)
    {
        var output = document.getElementById("output");
        text = text.replace(/</g, '&lt;');
        output.innerHTML = output.innerHTML + text;
    }

    function clearOutput() {
       var output = document.getElementById("output");
       output.innerHTML = '';
    }

    function builtinRead(x) {
	    if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
		    throw "File not found: '" + x + "'";
	    return Sk.builtinFiles["files"][x];
	}
    function runCode() {
        var prog = $("#code").text();
        Sk.misceval.asyncToPromise(function() {
            try {
                return Sk.importMainWithBody("<stdin>",false,prog,true);
            } catch(e) {
                alert(e)
            }
        });
    }
    PygameLib.init("../pygamelib");
    (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target = 'mycanvas';
    Sk.configure({ read: builtinRead, output:printString });
    runCode();
    </script>
  </body>
</html>

